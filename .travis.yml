language: node_js

node_js:
    - "node"
    - "12"

addons:
  firefox: "49.0"

before_install:
- wget https://github.com/mozilla/geckodriver/releases/download/v0.27.0/geckodriver-v0.27.0-linux64.tar.gz
- mkdir geckodriver
- tar -xzf geckodriver-v0.27.0-linux64.tar.gz -C geckodriver
- export PATH=$PATH:$PWD/geckodriver

sudo: false

git:
    submodules: false

before_script:
    - npm install

script:
    - npm test

after_success:
    - npm run report-coveralls
    - npm run report-codecov

notifications:
    webhooks:
        on_success: change  # options: [always|never|change] default: always
        on_failure: always  # options: [always|never|change] default: always
        on_start: never     # options: [always|never|change] default: always
